<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./js/jquery.min.js"></script>
    <style>
        .test1{
            height: 200px;
        }
        div:first-child{
            position: relative;
            z-index: 1;
        }
        .red,.green,.blue{
            width: 100px;
            height: 100px;
            position: absolute;
        }
        .red{
            z-index: 1;
            top: 0;
            left: 0;
            background: red;
        }
        .green{
            top: 20px;
            left: 20px;
            background: green;
        }
        .blue{
            top: 40px;
            left: 40px;
            background: blue;
        }
		#testBox{
			width: 200px;
			height: 200px;
			background: #000;
		}
    </style>
</head>
<body>
    <div class="test1">
        <div>
            <span class="red"></span>
        </div>
        <div>
            <span class="green"></span>
        </div>
        <div>
            <span class="blue"></span>
        </div>
    </div>
    <div>숫자카운팅</div>
    <div class="number">78</div>
    <div class="number">93456465453</div>
	<div id="testBox"></div>
	<div class="cor_ch">안녕1</div>
	<div class="cor_ch">안녕2</div>
	<div class="cor_ch">안녕3</div>
	<div class="cor_ch">안녕4</div>
    <script>
        function numberCounter(target_frame, target_number) {
            this.count = 0; this.diff = 0;
            this.target_count = parseInt(target_number);//숫자로 받아옴
            this.target_frame = document.getElementById(target_frame);//인자값을id로 찾아옴
            this.timer = null;
            this.counter();
        };
        numberCounter.prototype.counter = function() {
            var self = this;
            this.diff = this.target_count - this.count;
            
            if(this.diff > 0) {
                self.count += Math.ceil(this.diff / 5);
            }
            
            this.target_frame.innerHTML = this.count.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            
            if(this.count < this.target_count) {
                this.timer = setTimeout(function() { self.counter(); }, 20);
            } else {
                clearTimeout(this.timer);
            }
        };

        //new numberCounter("number",10054540);

        function count_number(num){
            for(let i = 0; i < num.length; i++){
                let num_count = parseInt(num.eq(i).text())
                let num_diff = 0;
                let num_result = 0;
                let timeid = setInterval(function(){
                    num_diff = num_count - num_result;
                    
                    num_result += Math.ceil(num_diff / 5);
                    
                    num.eq(i).text(num_result.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ','))
        
                    if(num_count <= num_result){
                        console.log("종료" + i + ": " + timeid)
                        clearInterval(timeid)
                    }
                },10);
            }
        }

        count_number($(".number"))

        const person = {
            name:'lee',
            sayHi : {
                name:"qwe",
                sayQi: function(){
                    console.log(this.name)
                }
            }
        }
        person.sayHi.sayQi()

        function asdf(){
            this.box = 1
        }
        const test = new asdf

        function Prefixer(prefix) { this.prefix = prefix; }

        Prefixer.prototype.prefixArray = function (arr) {
            //return arr.map(x => `${this.prefix} ${x}`);
            return arr.map(function(x){return this.prefix,x}) 
        };

        const pre = new Prefixer('Hi');

        console.log(pre.prefixArray(['Lee', 'Kim']));


        /*const box = document.getElementById("testBox");

        function handleOrientation(event) {
            const alpha = event.alpha,
                beta = event.beta,
                gamma = event.gamma;

            if (!beta) {
                addMouseEvent()
            }

            document.getElementById("alpha").innerText = alpha,
            document.getElementById("beta").innerText = beta,
            document.getElementById("gamma").innerText = gamma,

            box.style.transform = `rotateX(${-beta}deg) rotateY(${gamma}deg)`
        }

        function handleMouseMove(event) {
            const x = event.clientX,
                y = event.clientY,
                w = window.outerWidth / 2,
                h = window.outerHeight / 2;

            document.getElementById("x").innerText = x,
            document.getElementById("y").innerText = y,

            box.style.transform = `rotateX(${y - h}deg) rotateY(${x - w}deg)`
        }

        function addMouseEvent() {
            window.addEventListener("mousemove", handleMouseMove);
        }

        window.addEventListener("deviceorientation", handleOrientation);
		*/
		let q = document.querySelectorAll(".cor_ch");
		console.log(q)
		q.forEach(function(item,index){
			item.addEventListener("click",function(){
				q.forEach(function(item,index){
					item.style.color="black"
				})
				this.style.color="red"
			})
		})
		let w = $(".cor_ch")
		console.log(q)
		console.log(w)

		/*let e = document.getElementsByClassName("cor_ch")
		e.forEach(function(item,index){
			item.addEventListener("click",function(){
				e.forEach(function(item,index){
					item.style.color="black"
				})
				this.style.color="red"
			})
		})*/

		let yoosa={
			0:'첫',
			1:'둘',
			2:'셋',
			length:3,
		}
		console.log("유사배열" + yoosa[0])
		console.log(yoosa[0])
		/*let ar_yoosa = Array.from(yoosa);
		console.log(yoosa[0])
		console.log(ar_yoosa)*/

		let obg_test = {
			name:"asd",
			qwe:"asds"
		}
		let name = "qwe"
		console.log(obg_test[name])
    </script>
</body>
</html>